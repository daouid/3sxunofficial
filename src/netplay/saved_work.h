#ifndef NETPLAY_SAVED_WORK_H
#define NETPLAY_SAVED_WORK_H

#include "structs.h"

// A version of the WORK struct that is safe to save/load.
// All pointer fields have been removed.
typedef struct SavedWORK {
    s8 be_flag;
    s8 disp_flag;
    u8 blink_timing;
    u8 operator;
    u8 type;
    u8 charset_id;
    s16 work_id;
    s16 id;
    s8 rl_flag;
    s8 rl_waza;

    s16 before;
    s16 myself;
    s16 behind;
    s16 listix;

    s16 dead_f;
    s16 timing;
    s16 routine_no[8];
    s16 old_rno[8];
    s16 hit_stop;
    s16 hit_quake;
    s8 cgromtype;
    u8 kage_flag;
    s16 kage_hx;
    s16 kage_hy;
    s16 kage_prio;
    s16 kage_width;
    s16 kage_char;
    s16 position_x;
    s16 position_y;
    s16 position_z;
    s16 next_x;
    s16 next_y;
    s16 next_z;
    XY xyz[3];
    s16 old_pos[3];
    s16 sync_suzi;
    MVXY mvxy;
    s16 direction;
    s16 dir_old;
    s16 dir_step;
    s16 dir_timer;
    s16 vitality;
    s16 vital_new;
    s16 vital_old;
    s16 dm_vital;
    s16 dmcal_m;
    s16 dmcal_d;
    s8 weight_level;
    UNK11 cmoa;
    UNK11 cmsw;
    UNK11 cmlp;
    UNK11 cml2;
    UNK11 cmja;
    UNK11 cmj2;
    UNK11 cmj3;
    UNK11 cmj4;
    UNK11 cmj5;
    UNK11 cmj6;
    UNK11 cmj7;
    UNK11 cmms;
    UNK11 cmmd;
    UNK11 cmyd;
    UNK11 cmcf;
    UNK11 cmcr;
    UNK11 cmbk;
    UNK11 cmb2;
    UNK11 cmb3;
    UNK11 cmhs;
    UNK11 cmr0;
    UNK11 cmr1;
    UNK11 cmr2;
    UNK11 cmr3;
    s16 cmwk[32];
    UNK_9 cg_olc;
    s16 cg_ix;
    s16 now_koc;
    s16 char_index;
    s16 current_colcd;

    s16 cgd_type;
    u8 pat_status;
    u8 kind_of_waza;
    u8 hit_range;
    u8 total_paring;
    u8 total_att_set;
    u8 sp_tech_id;

    u8 cg_type;
    u8 cg_ctr;
    u16 cg_se;
    u16 cg_olc_ix;
    u16 cg_number;
    u16 cg_hit_ix;
    s16 cg_att_ix;
    u8 cg_extdat;
    u8 cg_cancel;
    u8 cg_effect;
    u8 cg_eftype;
    u16 cg_zoom;
    u16 cg_rival;
    u16 cg_add_xy;
    u8 cg_next_ix;
    u8 cg_status;

    s16 cg_wca_ix;
    s16 cg_jphos;
    u16 cg_meoshi;
    u8 cg_prio;
    u8 cg_flip;
    u16 old_cgnum;
    s16 floor;
    u16 ccoff;
    s16 colcd;
    s16 my_col_mode;
    s16 my_col_code;
    s16 my_priority;
    s16 my_family;
    s16 my_ext_pri;
    s16 my_bright_type;
    s16 my_bright_level;
    s16 my_clear_level;
    s16 my_mts;
    s16 my_mr_flag;
    struct {
        struct {
            s16 x;
            s16 y;
        } size;
    } my_mr;
    s16 my_trans_mode;
    s16 waku_work_index;
    s16 olc_work_ix[4];
    UNK_0 cg_ja;
    UNK_7 att;
    u16 zu_flag;
    u16 at_attribute;
    s16 kezuri_pow;
    u16 add_arts_point;
    u16 buttobi_type;
    u16 att_zuru;
    u16 at_ten_ix;
    s16 dir_atthit;
    s16 vs_id;
    u8 att_hit_ok;
    u8 meoshi_hit_flag;
    u16 at_koa;
    u8 paring_attack_flag;
    s8 no_death_attack;
    u8 jump_att_flag;
    s8 shell_vs_refrect;
    s16 renew_attack;
    u16 attack_num;
    u16 uketa_att[4];
    union {
        struct {
            u8 player;
            u8 effect;
        } hit;
        u16 hit_flag;
    } hf;
    s16 hit_mark_x;
    s16 hit_mark_y;
    s16 hit_mark_z;
    s16 kohm;
    u8 dm_fushin;
    s8 dm_weight;
    u16 dm_butt_type;
    u16 dm_zuru;
    u16 dm_attribute;
    s16 dm_guard_success;
    s16 dm_plnum;
    s16 dm_attlv;
    s16 dm_dir;
    s8 dm_rl;
    u8 dm_impact;
    s16 dm_stop;
    s16 dm_quake;
    u16 dm_piyo;
    u16 dm_ten_ix;
    u16 dm_koa;
    s16 dm_work_id;
    u16 dm_arts_point;
    u8 dm_jump_att_flag;
    u8 dm_free;
    s16 dm_count_up;
    s8 dm_nodeathattack;
    u8 dm_exdm_ix;
    u8 dm_dip;
    u8 dm_kind_of_waza;
    s16 attpow;
    s16 defpow;
    s16 shell_ix[8];
    s16 hm_dm_side;
    s16 extra_col;
    s16 extra_col_2;
    s16 original_vitality;
    u8 hit_work_id;
    u8 dmg_work_id;
    s8 K5_init_flag;
    s8 K5_exec_ok;
    u8 kow;
    u8 swallow_no_effect;
    s16 E3_work_index;
    s16 E4_work_index;
    u8 kezurare_flag;
    u8 wrd_free[53];
} SavedWORK;

#endif
